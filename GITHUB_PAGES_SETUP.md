# Инструкция по настройке GitHub Pages

## Шаг 1: Создание репозитория на GitHub

1. Откройте https://github.com
2. Нажмите **"New repository"** (Новый репозиторий)
3. Введите имя репозитория (например, `timetrack`)
4. Выберите **Public** (публичный) - GitHub Pages работает только с публичными репозиториями (или с платным аккаунтом)
5. **НЕ** ставьте галочки на "Add README", "Add .gitignore", "Choose a license"
6. Нажмите **"Create repository"**

## Шаг 2: Инициализация Git и загрузка файлов

Откройте терминал в папке проекта (`/Users/stanislav/web:`) и выполните:

```bash
# Инициализация Git (если еще не инициализирован)
git init

# Добавление всех файлов
git add .

# Первый коммит
git commit -m "Initial commit: TimeTrack app"

# Добавление удаленного репозитория (замените YOUR_USERNAME на ваш GitHub username)
git remote add origin https://github.com/YOUR_USERNAME/timetrack.git

# Загрузка на GitHub
git branch -M main
git push -u origin main
```

## Шаг 3: Настройка GitHub Pages

1. Откройте ваш репозиторий на GitHub
2. Перейдите в **Settings** (Настройки)
3. В левом меню найдите **Pages** (Страницы)
4. В разделе **Source** (Источник):
   - Выберите **Branch: main**
   - Выберите папку **/ (root)**
   - Нажмите **Save** (Сохранить)
5. Подождите 1-2 минуты, пока GitHub Pages развернет сайт
6. Ваш сайт будет доступен по адресу: `https://YOUR_USERNAME.github.io/timetrack/`

## Шаг 4: Обновление путей в коде для GitHub Pages

После деплоя нужно обновить пути в `manifest.webmanifest` и `service-worker.js`, если они используют абсолютные пути.

**Важно**: Если ваш репозиторий называется не `timetrack`, а по-другому, то все пути должны начинаться с `/ИМЯ_РЕПОЗИТОРИЯ/` вместо `/`.

Например, если репозиторий называется `my-timetrack`, то:
- `start_url` должен быть `/my-timetrack/#/me`
- Иконки: `/my-timetrack/icon-192.png`

## Шаг 5: Обновление путей (если репозиторий не называется "timetrack")

Если ваш репозиторий имеет другое имя, обновите следующие файлы:

### manifest.webmanifest:
```json
{
  "start_url": "/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/#/me",
  "scope": "/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/",
  "icons": [
    {
      "src": "/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/icon-192.png",
      ...
    }
  ]
}
```

### service-worker.js:
Обновите пути в `urlsToCache`:
```javascript
const urlsToCache = [
  '/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/',
  '/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/index.html',
  ...
];
```

### index.html:
Обновите путь к manifest:
```html
<link rel="manifest" href="/ИМЯ_ВАШЕГО_РЕПОЗИТОРИЯ/manifest.webmanifest">
```

## Шаг 6: Проверка работы

1. Откройте ваш сайт: `https://YOUR_USERNAME.github.io/timetrack/`
2. Проверьте, что все работает:
   - Страница загружается
   - Навигация работает
   - Данные сохраняются в Supabase
   - Фото загружаются

## Шаг 7: Установка PWA на смартфон

### Android (Chrome):
1. Откройте сайт в Chrome
2. Нажмите меню (три точки) → **"Добавить на главный экран"** или **"Установить приложение"**
3. Подтвердите установку
4. Иконка появится на главном экране

### iOS (Safari):
1. Откройте сайт в Safari
2. Нажмите кнопку **"Поделиться"** (квадрат со стрелкой)
3. Прокрутите вниз и выберите **"На экран «Домой»"**
4. Подтвердите установку
5. Иконка появится на главном экране

## Важные замечания

1. **HTTPS обязателен**: GitHub Pages автоматически предоставляет HTTPS, что необходимо для PWA и Service Worker
2. **Обновления**: После каждого изменения в коде:
   ```bash
   git add .
   git commit -m "Описание изменений"
   git push
   ```
   Изменения появятся на сайте через 1-2 минуты
3. **Кэш**: Если изменения не появляются, очистите кэш браузера или используйте режим инкогнито

## Файлы, которые нужно загрузить на GitHub

Убедитесь, что следующие файлы есть в репозитории:
- ✅ `index.html`
- ✅ `app.js`
- ✅ `manifest.webmanifest`
- ✅ `service-worker.js`
- ✅ `icon-192.png`
- ✅ `icon-512.png`

## Файлы, которые НЕ нужно загружать (добавьте в .gitignore)

Создайте файл `.gitignore`:
```
# Временные файлы
*.log
.DS_Store
Thumbs.db

# Конфиденциальные данные (если есть)
пароль.txt

# Документация (опционально, можно оставить)
# *.md
```

## Решение проблем

### Service Worker не работает:
- Убедитесь, что сайт открыт по HTTPS
- Проверьте консоль браузера на ошибки
- Убедитесь, что `service-worker.js` доступен по пути `/service-worker.js`

### PWA не устанавливается:
- Проверьте, что `manifest.webmanifest` корректен
- Убедитесь, что иконки доступны
- Проверьте консоль браузера на ошибки

### Пути не работают:
- Убедитесь, что все пути начинаются с `/` или `/ИМЯ_РЕПОЗИТОРИЯ/`
- Проверьте, что файлы загружены в корень репозитория

